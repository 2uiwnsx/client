<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ex24_form</title>
        <style>
            #tbl {
                border: 1px solid gray;
                border-collapse: collapse;
                margin-bottom: 10px;
            }
            #tbl th, #tbl td {
                border: 1px solid gray;
                padding: 5px 10px;
            }
            #tbl th {
                background-color: #EEE;
            }
            input {
                outline: none;
            }
        </style>
    </head>
    <body>
        <h1>회원가입</h1>

        <form action="ex24_ok.jsp" name="form">
            <table id="tbl">
                <tr>
                    <th>이름</th>
                    <td><input type="text" name="name"></td>
                </tr>
                <tr>
                    <th>나이</th>
                    <td><input type="number" name="age" min="19" max="100"></td>
                </tr>
                <tr>
                    <th>아이디</th>
                    <td><input type="text" name="id"></td>
                </tr>
                <tr>
                    <th>비밀번호</th>
                    <td><input type="password" name="pswd1"></td>
                </tr>
                <tr>
                    <th>비밀번호 확인</th>
                    <td><input type="password" name="pswd2"></td>
                </tr>
            </table>

            <input type="button" name="submitBtn" value="제출">
        </form>

        <script>
            function m1() {
                var name = document.form.name;
                var age = document.form.age;
                var id = document.form.id;
                var pswd1 = document.form.pswd1;
                var pswd2 = document.form.pswd2;

                if (name.value == '') {
                    alert('이름을 입력하세요.');

                    name.focus();

                    return;
                }

                if ((name.value.length < 2) || (name.value.length > 5)) {
                    alert('2 ~ 5자 이내로 입력하세요.');

                    name.value = '';
                    name.focus();

                    return;
                }
                
                for (var i = 0; i < name.value.length; i++) {
                    var c = name.value.charAt(i);

                    if ((c < '가') || (c > '힣')) {
                        alert('한글만 입력하세요.');

                        name.select();

                        return;
                    }
                }

                if (age.value == '') {
                    alert('나이를 입력하세요.');

                    age.focus();

                    return;
                }

                var regex = /^[A-Za-z_][A-Za-z0-9_]{3,11}$/;

                if (!regex.test(id.value)) {
                    alert('올바른 형식의 아이디를 입력하세요.');

                    id.select();

                    return;
                }

                if (pswd1.value != pswd2.value) {
                    alert('비밀번호가 일치하지 않습니다.');

                    pswd1.focus();

                    return;
                }

                document.form.submit();
            }

            document.form.submitBtn.onclick = m1;
        </script>
    </body>
</html>